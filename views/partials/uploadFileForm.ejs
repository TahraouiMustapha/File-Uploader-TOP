<dialog id="newFileDialog">
    <form action=<%=locals.newFileHref || '/files/new-file'%> method="post" enctype="multipart/form-data">
        <div>
            <h2 class="title">New File</h2>
            <button type="button" id="exitNewFileBtn">
                <img src="/assets/icons/close.svg" alt="close">
            </button>
        </div>
    
        <p class="input-file">
            <label for="new-file">Choose file</label>
            <input type="file" name="new-file" id="new-file">
        </p>

        <%-include('errors')%>

        <button type="submit" class="dialog-submit-btn">Upload</button>
    </form>

    <script>
        const fileLabel = document.querySelector('#newFileDialog .input-file label');
        const fileInput = document.querySelector('#newFileDialog .input-file input');

        if(fileInput) {
            fileInput.addEventListener('change', ()=> {
                if(fileInput.files.length > 0) {
                    fileLabel.textContent = fileInput.files[0].name;
                }
            })
        }
    </script>
</dialog>   